import{_ as w,h as g,r as n,o as y,c as h,d as o,a as i,w as d,i as V,b as u,t as m}from"./index-38e85aaa.js";import"https://unpkg.com/mathlive@0.90.10/dist/mathlive.min.js";import"https://unpkg.com/mathlive@0.90.10/dist/vue-mathlive.mjs";const k={name:"Login",data(){return{name:"",surname:"",email:"",password:"",repeatpassword:"",visible:!1,visibler:!1,isFormValid:!1}},computed:{},methods:{required:function(e){return e?!0:this.$t("validation.required")},min6:function(e){return e.length>=6?!0:this.$t("validation.minLength")},validPassword:function(){return/.*\d.*/.test(this.password)?!0:this.$t("validation.mustContainDigit")},matchingPasswords:function(){return this.password===this.repeatpassword?!0:this.$t("validation.passwordsDontMatch")},validMail:function(){return/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()\\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email)?!0:this.$t("validation.invalidMail")},register(){if(this.password==this.repeatpassword&&this.isFormValid)try{g.post("https://site124.webte.fei.stuba.sk/final/api/account/register",{name:this.name,surname:this.surname,email:this.email,password:this.password}).then(e=>{console.log(e),sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("role",e.data.role),this.$router.push("/"),this.$store.dispatch("login",[e.data.token,e.data.role])})}catch(e){console.log(e)}}}},x={class:"d-flex justify-center align-center"},q={class:"v-col-12 v-col-md-7 v-col-lg-5"},C={class:"d-flex flex-wrap"},U={class:"v-col-12 v-col-md-6 py-1"},M={class:"v-col-12 v-col-md-6 py-1"},F={class:"v-col-12 py-1"},I={class:"d-flex flex-wrap"},P={class:"v-col-12 v-col-md-6 py-1"},S={class:"v-col-12 v-col-md-6 py-1"},j={class:"my-4 v-col-12 d-flex justify-center"},A={class:"d-flex justify-center mt-4"};function B(e,s,D,N,l,r){const p=n("v-card-title"),v=n("v-divider"),a=n("v-text-field"),c=n("v-btn"),f=n("v-card"),_=n("v-form"),b=n("router-link");return y(),h("div",x,[o("div",q,[i(_,{modelValue:l.isFormValid,"onUpdate:modelValue":s[8]||(s[8]=t=>l.isFormValid=t),onSubmit:s[9]||(s[9]=V(()=>{},["prevent"]))},{default:d(()=>[i(f,{flat:""},{default:d(()=>[i(p,{class:"pt-4 pb-3"},{default:d(()=>[u(m(e.$t("register.title")),1)]),_:1}),i(v,{class:"pb-4"}),o("div",C,[o("div",U,[i(a,{color:"primary",modelValue:l.name,"onUpdate:modelValue":s[0]||(s[0]=t=>l.name=t),label:e.$t("register.name"),rules:[r.required]},null,8,["modelValue","label","rules"])]),o("div",M,[i(a,{color:"primary",modelValue:l.surname,"onUpdate:modelValue":s[1]||(s[1]=t=>l.surname=t),label:e.$t("register.surname"),rules:[r.required]},null,8,["modelValue","label","rules"])]),o("div",F,[i(a,{color:"primary",modelValue:l.email,"onUpdate:modelValue":s[2]||(s[2]=t=>l.email=t),label:e.$t("register.email"),rules:[r.required,r.validMail]},null,8,["modelValue","label","rules"])])]),o("div",I,[o("div",P,[i(a,{color:"primary","append-inner-icon":l.visible?"mdi-eye-off":"mdi-eye",type:l.visible?"text":"password",modelValue:l.password,"onUpdate:modelValue":s[3]||(s[3]=t=>l.password=t),label:e.$t("register.password"),"onClick:appendInner":s[4]||(s[4]=t=>l.visible=!l.visible),rules:[r.required,r.min6,r.validPassword]},null,8,["append-inner-icon","type","modelValue","label","rules"])]),o("div",S,[i(a,{color:"primary","append-inner-icon":l.visibler?"mdi-eye-off":"mdi-eye",type:l.visibler?"text":"password",modelValue:l.repeatpassword,"onUpdate:modelValue":s[5]||(s[5]=t=>l.repeatpassword=t),label:e.$t("register.password2"),"onClick:appendInner":s[6]||(s[6]=t=>l.visibler=!l.visibler),rules:[r.required,r.matchingPasswords]},null,8,["append-inner-icon","type","modelValue","label","rules"])])]),o("div",j,[i(c,{type:"submit",color:"primary",onClick:s[7]||(s[7]=t=>r.register())},{default:d(()=>[u(m(e.$t("register.title")),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"]),o("div",A,[i(b,{class:"hk-login-link",to:"/login"},{default:d(()=>[u(m(e.$t("links.alreadyHaveAccount")),1)]),_:1})])])])}const E=w(k,[["render",B]]);export{E as default};
