import{a as f}from"./apiService-46e5fd51.js";import{l as C,m as V}from"./latex-8cc23a9f.js";import{_ as S,r as n,o as $,c as E,d as u,a as s,w as o,F as I,b as i,t as l}from"./index-38e85aaa.js";import"https://unpkg.com/mathlive@0.90.10/dist/mathlive.min.js";import"https://unpkg.com/mathlive@0.90.10/dist/vue-mathlive.mjs";const M={name:"Exam view",data(){return{taskId:null,task:null,formula:"",confirmSubmit:!1}},computed:{htmlContent(){if(this.task=this.task,this.task){const t=new C({hyphenate:!1,CustomMacros:function(){function d(a){this.g=a}var h=d.args={},r=d.prototype;return h.includegraphics=["H","k"],r.includegraphics=function(a){a=a.split("/").pop();let m=this.g.create("img"),p="https://site124.webte.fei.stuba.sk/final";return m.src=p+"/images/"+a,m.className="img-fluid",[m]},d}()});let e=V(this.task,{generator:t});return e=e.domFragment(),e.firstChild.outerHTML}}},methods:{change(t){const e=t.target.value;this.formula=e},submit(){this.confirmSubmit=!0},submitExam(){this.confirmSubmit=!1,f.post("api/result",{task_id:this.taskId,exambundle_id:this.$route.params.id,studnet_solution:this.formula}).then(t=>{t.status===200&&this.$router.go(-1)})}},async mounted(){await f.get("/api/generatetask/"+this.$route.params.id).then(t=>{console.log(t.data),this.taskId=t.data}),f.get("/api/task/"+this.taskId).then(t=>{console.log(t.data),this.task=t.data.task.instructions,console.log(this.task)})}},T={class:"pt-6"},F={class:"contentCenter"},H=["innerHTML"],N={class:"d-flex justify-start my-4 pt-6"},j={class:"d-flex justify-center py-8 hk-big-icon"},B=i("mdi-clipboard-check-outline");function L(t,e,d,h,r,a){const m=n("v-card-title"),p=n("v-chip"),v=n("v-card-subtitle"),k=n("math-field"),g=n("v-container"),_=n("v-btn"),b=n("v-card"),x=n("v-icon"),y=n("v-card-actions"),w=n("v-dialog");return $(),E(I,null,[u("div",T,[s(b,{class:"mx-4 mt-6"},{default:o(()=>[s(m,null,{default:o(()=>[i(l(t.$t("title.assignment")),1)]),_:1}),s(g,{class:"v-col-sm-12 v-col-md-10 v-col-lg-8 pb-8"},{default:o(()=>[u("div",F,[u("div",{innerHTML:a.htmlContent},null,8,H),u("div",N,[s(p,{"prepend-icon":"mdi-alert-circle-outline",color:"warning",closable:"","onClick:close":c=>({})},{default:o(()=>[i(l(t.$t("message.howToWriteAnAnswear")),1)]),_:1})]),s(v,{class:"pb-1"},{default:o(()=>[i(l(t.$t("title.answear")),1)]),_:1}),s(k,{id:"formula",modelValue:r.formula,"onUpdate:modelValue":e[0]||(e[0]=c=>r.formula=c),onInput:a.change},null,8,["modelValue","onInput"])])]),_:1}),s(g,{class:"v-col-sm-12 v-col-md-10 v-col-lg-8 pb-8"},{default:o(()=>[s(_,{class:"gombicekXD",onClick:e[1]||(e[1]=c=>a.submit()),color:"primary"},{default:o(()=>[i(l(t.$t("button.submitExam")),1)]),_:1})]),_:1})]),_:1})]),s(w,{modelValue:r.confirmSubmit,"onUpdate:modelValue":e[4]||(e[4]=c=>r.confirmSubmit=c),"max-width":"500px"},{default:o(()=>[s(b,null,{default:o(()=>[u("div",j,[s(x,{color:"primary",size:"large",class:"pa-8"},{default:o(()=>[B]),_:1})]),s(m,{class:"text-h5 pb-0"},{default:o(()=>[i(l(t.$t("messages.askForSubmitExam")),1)]),_:1}),s(v,{class:"pb-6"},{default:o(()=>[i(l(t.$t("messages.actionWillSubmitExam")),1)]),_:1}),s(y,{class:"d-flex justify-center"},{default:o(()=>[s(_,{onClick:e[2]||(e[2]=c=>r.confirmSubmit=!1)},{default:o(()=>[i(l(t.$t("button.cancel")),1)]),_:1}),s(_,{color:"primary",onClick:e[3]||(e[3]=c=>a.submitExam())},{default:o(()=>[i(l(t.$t("button.submit")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const X=S(M,[["render",L]]);export{X as default};
