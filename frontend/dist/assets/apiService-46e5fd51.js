import{Z as u,h as i,$ as a}from"./index-38e85aaa.js";const l=u(),n=i.create({baseURL:"https://site124.webte.fei.stuba.sk/final",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}});function c(){return{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}}}const d={async get(e,s={}){const t=c();return n.get(e,t).then(r=>{if(!r.data&&r.status!==200)throw new Error;return r}).catch(r=>((!s.alert||s.alert.failure!==!1)&&this.handleGetError(r),!1))},async post(e,s,t={}){const r=c();return n.post(e,s,r).then(o=>((!t.alert||t.alert.success!==!1)&&l.success(`${a.global.t("messages.postSuccess")}`),o)).catch(o=>((!t.alert||t.alert.failure!==!1)&&this.handleGetError(o),!1))},async put(e,s){const t=c();return n.put(e,s,t).then(r=>(l.success(`${a.global.t("messages.putSuccess")}`),r)).catch(r=>(this.handlePutError(r),!1))},async delete(e,s={}){const t=c();return n.delete(e,t).then(r=>((!s.alert||s.alert.success!==!1)&&l.success(`${a.global.t("messages.deleteSuccess")}`),r)).catch(r=>(this.handleDeleteError(r),!1))},handleGetError(e){l.error(`${a.global.t("message.getError")} (${e.response.status})`)},handlePostError(e){l.error(`${a.global.t("message.postError")} (${e.response.status})`)},handlePutError(e){l.error(`${a.global.t("message.putError")} (${e.response.status})`)},handleDeleteError(e){l.error(`${a.global.t("message.deleteError")} (${e.response.status})`)}};export{d as a};
