import{j as ce,a as c,m as fe,k as C,p as I,l as U,n as z,q as Q,s as _,u as $,v as B,x,y as P,z as W,A as F,I as X,B as ge,C as me,D as ve,E as A,L as ye,F as O,V as K,G as be,H as V,b as Y,J as he,i as Z,K as j,M as ee,N as pe,O as xe,P as we,Q as Se,R as ke,S as Pe,T as Ie,U as Te,W as De}from"./index-38e85aaa.js";const G=ce({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,n)=>{let{slots:a,attrs:t}=n;const l=e.tag??"td";return c(l,fe({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:C(e.height),width:C(e.width),left:C(e.fixedOffset||null)}},t),{default:()=>{var s;return[(s=a.default)==null?void 0:s.call(a)]}})}),Ve=I({headers:{type:Array,default:()=>[]}},"v-data-table-header"),te=Symbol.for("vuetify:data-table-headers");function Ce(e,n){const a=U([]),t=U([]);z(()=>e.headers,()=>{var p,h,w;const s=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],u=s.flatMap((m,d)=>m.map(b=>({column:b,row:d}))),i=s.length,o={title:"",sortable:!1},f={...o,width:48};if((p=n==null?void 0:n.groupBy)!=null&&p.value.length){const m=u.findIndex(d=>{let{column:b}=d;return b.key==="data-table-group"});m<0?u.unshift({column:{...o,key:"data-table-group",title:"Group",rowspan:i},row:0}):u.splice(m,1,{column:{...o,...u[m].column},row:u[m].row})}if((h=n==null?void 0:n.showSelect)!=null&&h.value){const m=u.findIndex(d=>{let{column:b}=d;return b.key==="data-table-select"});m<0?u.unshift({column:{...f,key:"data-table-select",rowspan:i},row:0}):u.splice(m,1,{column:{...f,...u[m].column},row:u[m].row})}if((w=n==null?void 0:n.showExpand)!=null&&w.value){const m=u.findIndex(d=>{let{column:b}=d;return b.key==="data-table-expand"});m<0?u.push({column:{...f,key:"data-table-expand",rowspan:i},row:0}):u.splice(m,1,{column:{...f,...u[m].column},row:u[m].row})}const r=Q(i).map(()=>[]),g=Q(i).fill(0);let v=0;u.forEach(m=>{let{column:d,row:b}=m;const S=d.key??`data-table-column-${v++}`;for(let k=b;k<=b+(d.rowspan??1)-1;k++)r[k].push({...d,key:S,fixedOffset:g[k],sortable:d.sortable??!!d.key}),g[k]+=d.width??0}),r.forEach(m=>{for(let d=m.length;d--;d>=0)if(m[d].fixed){m[d].lastFixed=!0;return}});const y=new Set;a.value=r.map(m=>{const d=[];for(const b of m)y.has(b.key)||(y.add(b.key),d.push(b));return d}),t.value=r.at(-1)??[]},{deep:!0,immediate:!0});const l={headers:a,columns:t};return _(te,l),l}function L(){const e=$(te);if(!e)throw new Error("Missing headers!");return e}const Be=I({showSelect:Boolean,modelValue:{type:Array,default:()=>[]}},"v-data-table-select"),ae=Symbol.for("vuetify:data-table-selection");function _e(e,n){const a=B(e,"modelValue",e.modelValue,g=>new Set(g),g=>[...g.values()]);function t(g){return g.every(v=>a.value.has(v.value))}function l(g){return g.some(v=>a.value.has(v.value))}function s(g,v){const y=new Set(a.value);for(const p of g)v?y.add(p.value):y.delete(p.value);a.value=y}function u(g){s([g],!t([g]))}function i(g){s(n.value,g)}const o=x(()=>a.value.size>0),f=x(()=>t(n.value)),r={toggleSelect:u,select:s,selectAll:i,isSelected:t,isSomeSelected:l,someSelected:o,allSelected:f};return _(ae,r),r}function H(){const e=$(ae);if(!e)throw new Error("Missing selection!");return e}const $e=I({sortBy:{type:Array,default:()=>[]},multiSort:Boolean,mustSort:Boolean},"v-data-table-sort"),ne=Symbol.for("vuetify:data-table-sort");function Fe(e){const n=B(e,"sortBy"),a=P(e,"mustSort"),t=P(e,"multiSort");return{sortBy:n,mustSort:a,multiSort:t}}function Ee(e){const{sortBy:n,mustSort:a,multiSort:t,page:l}=e,u={sortBy:n,toggleSort:i=>{let o=n.value.map(r=>({...r}))??[];const f=o.find(r=>r.key===i);f?f.order==="desc"?a.value?f.order="asc":o=o.filter(r=>r.key!==i):f.order="desc":t.value?o=[...o,{key:i,order:"asc"}]:o=[{key:i,order:"asc"}],n.value=o,l&&(l.value=1)}};return _(ne,u),u}function Ne(){const e=$(ne);if(!e)throw new Error("Missing sort!");return e}function Oe(e,n,a){const t=x(()=>a.value.reduce((s,u)=>(u.sort&&(s[u.key]=u.sort),s),{}));return{sortedItems:x(()=>n.value.length?Ge(e.value,n.value,"en",t.value):e.value)}}function Ge(e,n,a,t){const l=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...e].sort((s,u)=>{for(let i=0;i<n.length;i++){const o=n[i].key,f=n[i].order;if(f===!1)continue;let r=W(s.raw,o),g=W(u.raw,o);if(f==="desc"&&([r,g]=[g,r]),t!=null&&t[o]){const v=t[o](r,g);if(!v)continue;return v}if(!(r==null||g==null)){if(r instanceof Date&&g instanceof Date)return r.getTime()-g.getTime();if([r,g]=[r,g].map(v=>(v||"").toString().toLocaleLowerCase()),r!==g)return!isNaN(r)&&!isNaN(g)?Number(r)-Number(g):l.compare(r,g)}}return 0})}const Ae=F()({name:"VDataTableHeaders",props:{color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:X,default:"$sortAsc"},sortDescIcon:{type:X,default:"$sortDesc"},...ge()},setup(e,n){let{slots:a,emit:t}=n;const{toggleSort:l,sortBy:s}=Ne(),{someSelected:u,allSelected:i,selectAll:o}=H(),{columns:f,headers:r}=L(),{loaderClasses:g}=me(e),v=(m,d)=>!e.sticky&&!m.fixed?null:{position:"sticky",zIndex:m.fixed?4:e.sticky?3:void 0,left:m.fixed?C(m.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${d})`:void 0};function y(m){const d=s.value.find(b=>b.key===m);return d?d.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:p,backgroundColorStyles:h}=ve(e,"color"),w=m=>{let{column:d,x:b,y:S}=m;const k=!!s.value.find(T=>T.key===d.key),R=d.key==="data-table-select"||d.key==="data-table-expand";return c(G,{tag:"th",align:d.align,class:["v-data-table__th",{"v-data-table__th--sortable":d.sortable,"v-data-table__th--sorted":k},g.value],style:{width:C(d.width),minWidth:C(d.width),...v(d,S)},colspan:d.colspan,rowspan:d.rowspan,onClick:d.sortable?()=>l(d.key):void 0,lastFixed:d.lastFixed,noPadding:R},{default:()=>{var D;const T=`column.${d.key}`,E={column:d,selectAll:o};return a[T]?a[T](E):d.key==="data-table-select"?((D=a["column.data-table-select"])==null?void 0:D.call(a,E))??c(K,{modelValue:i.value,indeterminate:u.value&&!i.value,"onUpdate:modelValue":o},null):c("div",{class:"v-data-table-header__content"},[c("span",null,[d.title]),d.sortable&&c(be,{key:"icon",class:"v-data-table-header__sort-icon",icon:y(d.key)},null),e.multiSort&&k&&c("div",{key:"badge",class:["v-data-table-header__sort-badge",...p.value],style:h.value},[s.value.findIndex(N=>N.key===d.key)+1])])}})};A(()=>c(O,null,[r.value.map((m,d)=>c("tr",null,[m.map((b,S)=>c(w,{column:b,x:S,y:d},null))])),e.loading&&c("tr",{class:"v-data-table__progress"},[c("th",{colspan:f.value.length},[c(ye,{name:"v-data-table-headers",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),Le=I({groupBy:{type:Array,default:()=>[]}},"data-table-group"),le=Symbol.for("vuetify:data-table-group");function He(e){return{groupBy:B(e,"groupBy")}}function Re(e){const{groupBy:n,sortBy:a}=e,t=U(new Set),l=x(()=>n.value.map(f=>({...f,order:f.order??!1})).concat(a.value));function s(f){return t.value.has(f.id)}function u(f){const r=new Set(t.value);s(f)?r.delete(f.id):r.add(f.id),t.value=r}function i(f){function r(g){const v=[];for(const y of g.items)y.type==="item"?v.push(y):v.push(...r(y));return v}return r({type:"group-header",items:f,id:"dummy",key:"dummy",value:"dummy",depth:0})}const o={sortByWithGroups:l,toggleGroup:u,opened:t,groupBy:n,extractRows:i,isGroupOpen:s};return _(le,o),o}function oe(){const e=$(le);if(!e)throw new Error("Missing group!");return e}function Me(e,n){if(!e.length)return[];const a=new Map;for(const t of e){const l=W(t.raw,n);a.has(l)||a.set(l,[]),a.get(l).push(t)}return a}function re(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!n.length)return[];const l=Me(e,n[0]),s=[],u=n.slice(1);return l.forEach((i,o)=>{const f=n[0],r=`${t}_${f}_${o}`;s.push({depth:a,id:r,key:f,value:o,items:u.length?re(i,u,a+1,r):i,type:"group-header"})}),s}function ue(e,n){const a=[];for(const t of e)t.type==="group-header"?(t.value!=null&&a.push(t),(n.has(t.id)||t.value==null)&&a.push(...ue(t.items,n))):a.push(t);return a}function Ue(e,n,a){return{flatItems:x(()=>{if(!n.value.length)return e.value;const l=re(e.value,n.value.map(s=>s.key));return ue(l,a.value)})}}const ze=F()({name:"VDataTableGroupHeaderRow",props:{item:{type:Object,required:!0}},setup(e,n){let{slots:a}=n;const{isGroupOpen:t,toggleGroup:l,extractRows:s}=oe(),{isSelected:u,isSomeSelected:i,select:o}=H(),{columns:f}=L(),r=x(()=>s([e.item]));return()=>c("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[f.value.map(g=>{var v,y;if(g.key==="data-table-group"){const p=t(e.item)?"$expand":"$next",h=()=>l(e.item);return((v=a["data-table-group"])==null?void 0:v.call(a,{item:e.item,count:r.value.length,props:{icon:p,onClick:h}}))??c(G,{class:"v-data-table-group-header-row__column"},{default:()=>[c(V,{size:"small",variant:"text",icon:p,onClick:h},null),c("span",null,[e.item.value]),c("span",null,[Y("("),r.value.length,Y(")")])]})}if(g.key==="data-table-select"){const p=u(r.value),h=i(r.value)&&!p,w=m=>o(r.value,m);return((y=a["data-table-select"])==null?void 0:y.call(a,{props:{modelValue:p,indeterminate:h,"onUpdate:modelValue":w}}))??c("td",null,[c(K,{modelValue:p,indeterminate:h,"onUpdate:modelValue":w},null)])}return c("td",null,null)})])}}),We=I({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"v-data-table-expand"),ie=Symbol.for("vuetify:datatable:expanded");function Ke(e){const n=P(e,"expandOnClick"),a=B(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function t(i,o){const f=new Set(a.value);o?f.add(i.value):f.delete(i.value),a.value=f}function l(i){return a.value.has(i.value)}function s(i){t(i,!l(i))}const u={expand:t,expanded:a,expandOnClick:n,isExpanded:l,toggleExpand:s};return _(ie,u),u}function se(){const e=$(ie);if(!e)throw new Error("foo");return e}const M=he({name:"VDataTableRow",props:{index:Number,item:Object,onClick:Function},setup(e,n){let{slots:a}=n;const{isSelected:t,toggleSelect:l}=H(),{isExpanded:s,toggleExpand:u}=se(),{columns:i}=L();A(()=>c("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[!i.value.length&&c(G,{key:"no-data"},a),e.item&&i.value.map((o,f)=>c(G,{align:o.align,fixed:o.fixed,fixedOffset:o.fixedOffset,lastFixed:o.lastFixed,noPadding:o.key==="data-table-select"||o.key==="data-table-expand",width:o.width},{default:()=>{var y,p;const r=e.item,g=`item.${o.key}`,v={index:e.index,item:e.item,columns:i.value,isSelected:t,toggleSelect:l,isExpanded:s,toggleExpand:u};return a[g]?a[g](v):o.key==="data-table-select"?((y=a["item.data-table-select"])==null?void 0:y.call(a,v))??c(K,{modelValue:t([r]),onClick:Z(()=>l(r),["stop"])},null):o.key==="data-table-expand"?((p=a["item.data-table-expand"])==null?void 0:p.call(a,v))??c(V,{icon:s(r)?"$collapse":"$expand",size:"small",variant:"text",onClick:Z(()=>u(r),["stop"])},null):j(r.columns,o.key)}}))]))}}),qe=F()({name:"VDataTableRows",props:{loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},setup(e,n){let{emit:a,slots:t}=n;const{columns:l}=L(),{expandOnClick:s,toggleExpand:u,isExpanded:i}=se(),{isSelected:o,toggleSelect:f}=H(),{toggleGroup:r,isGroupOpen:g}=oe(),{t:v}=ee();return A(()=>{var y,p;return c(O,null,[e.loading?((y=t.loading)==null?void 0:y.call(t))??c(M,{class:"v-data-table-rows-no-data",key:"loading"},{default:()=>[v(e.loadingText)]}):void 0,!e.loading&&!e.items.length&&!e.hideNoData&&(((p=t["no-data"])==null?void 0:p.call(t))??c(M,{class:"v-data-table-rows-no-data",key:"no-data"},{default:()=>[v(e.noDataText)]})),e.items.map((h,w)=>{var d;if(h.type==="group-header")return t["group-header"]?t["group-header"]({index:w,item:h,columns:l.value,isExpanded:i,toggleExpand:u,isSelected:o,toggleSelect:f,toggleGroup:r,isGroupOpen:g}):c(ze,{key:`group-header_${h.id}`,item:h},t);const m={index:w,item:h,columns:l.value,isExpanded:i,toggleExpand:u,isSelected:o,toggleSelect:f};return c(O,null,[t.item?t.item(m):c(M,{key:`item_${h.value}`,onClick:s.value||e["onClick:row"]?b=>{var S;s.value&&u(h),(S=e["onClick:row"])==null||S.call(e,b,{item:h})}:void 0,index:w,item:h},t),i(h)&&((d=t["expanded-row"])==null?void 0:d.call(t,m))])})])}),{}}});const Je=I({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"v-data-table-paginate"),de=Symbol.for("vuetify:data-table-pagination");function Qe(e){const n=B(e,"page",void 0,t=>+(t??1)),a=B(e,"itemsPerPage",void 0,t=>+(t??10));return{page:n,itemsPerPage:a}}function Xe(e){const{page:n,itemsPerPage:a,itemsLength:t}=e,l=x(()=>a.value===-1?0:a.value*(n.value-1)),s=x(()=>a.value===-1?t.value:Math.min(t.value,l.value+a.value)),u=x(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));function i(f){a.value=f,n.value=1}const o={page:n,itemsPerPage:a,itemsLength:t,startIndex:l,stopIndex:s,pageCount:u,setItemsPerPage:i};return _(de,o),o}function Ye(){const e=$(de);if(!e)throw new Error("Missing pagination!");return e}function Ze(e){const{items:n,startIndex:a,stopIndex:t,itemsPerPage:l}=e;return{paginatedItems:x(()=>l.value<=0?n.value:n.value.slice(a.value,t.value))}}const je=F()({name:"VDataTableFooter",props:{prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},setup(e,n){let{slots:a}=n;const{t}=ee(),{page:l,pageCount:s,startIndex:u,stopIndex:i,itemsLength:o,itemsPerPage:f,setItemsPerPage:r}=Ye(),g=x(()=>e.itemsPerPageOptions.map(v=>({...v,title:t(v.title)})));return()=>{var v;return c("div",{class:"v-data-table-footer"},[(v=a.prepend)==null?void 0:v.call(a),c("div",{class:"v-data-table-footer__items-per-page"},[c("span",null,[t(e.itemsPerPageText)]),c(pe,{items:g.value,modelValue:f.value,"onUpdate:modelValue":y=>r(Number(y)),density:"compact",variant:"outlined","hide-details":!0},null)]),c("div",{class:"v-data-table-footer__info"},[c("div",null,[t(e.pageText,o.value?u.value+1:0,i.value,o.value)])]),c("div",{class:"v-data-table-footer__pagination"},[c(V,{icon:e.firstIcon,variant:"plain",onClick:()=>l.value=1,disabled:l.value===1,"aria-label":t(e.firstPageLabel)},null),c(V,{icon:e.prevIcon,variant:"plain",onClick:()=>l.value=Math.max(1,l.value-1),disabled:l.value===1,"aria-label":t(e.prevPageLabel)},null),e.showCurrentPage&&c("span",{key:"page",class:"v-data-table-footer__page"},[l.value]),c(V,{icon:e.nextIcon,variant:"plain",onClick:()=>l.value=Math.min(s.value,l.value+1),disabled:l.value===s.value,"aria-label":t(e.nextPageLabel)},null),c(V,{icon:e.lastIcon,variant:"plain",onClick:()=>l.value=s.value,disabled:l.value===s.value,"aria-label":t(e.lastPageLabel)},null)])])}}}),et=I({...xe({itemValue:"id"})},"v-data-table-item");function tt(e,n,a){const t=n.split(".");for(;t.length>1;){const l=t.shift();e[l]==null&&(e[l]={}),typeof e[l]=="object"&&(e=e[l])}e[t[0]]=a}function at(e,n){const{items:a}=we(e);return{items:x(()=>a.value.map(l=>({...l,type:"item",columns:n.value.reduce((s,u)=>(tt(s,u.key,j(l.raw,u.value??u.key)),s),{})})))}}function nt(e){let{page:n,itemsPerPage:a,sortBy:t,groupBy:l,search:s}=e;const u=Se("VDataTable"),i=x(()=>({page:n.value,itemsPerPage:a.value,sortBy:t.value,groupBy:l.value}));z(()=>s==null?void 0:s.value,()=>{n.value=1});let o=null;z(i,()=>{ke(o,i.value)||(u.emit("update:options",i.value),o=i.value)},{deep:!0,immediate:!0})}const lt=I({...et(),...Ve(),hideNoData:Boolean,hover:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},height:[String,Number],width:[String,Number],fixedHeader:Boolean,fixedFooter:Boolean,"onClick:row":Function},"v-data-table"),rt=F()({name:"VDataTable",props:{search:String,...lt(),...We(),...Le(),...Be(),...$e(),...Je(),...Pe()},emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,n){let{emit:a,slots:t}=n;const{groupBy:l}=He(e),{sortBy:s,multiSort:u,mustSort:i}=Fe(e),{page:o,itemsPerPage:f}=Qe(e),{columns:r}=Ce(e,{groupBy:l,showSelect:P(e,"showSelect"),showExpand:P(e,"showExpand")}),{items:g}=at(e,r),v=x(()=>r.value.map(D=>"columns."+D.key)),y=P(e,"search"),{filteredItems:p}=Ie(e,g,y,{filterKeys:v});Ee({sortBy:s,multiSort:u,mustSort:i,page:o});const{sortByWithGroups:h,opened:w,extractRows:m}=Re({groupBy:l,sortBy:s}),{sortedItems:d}=Oe(p,h,r),{flatItems:b}=Ue(d,l,w),S=x(()=>b.value.length),{startIndex:k,stopIndex:R}=Xe({page:o,itemsPerPage:f,itemsLength:S}),{paginatedItems:T}=Ze({items:b,startIndex:k,stopIndex:R,itemsPerPage:f}),E=x(()=>m(T.value));return _e(e,E),Ke(e),nt({page:o,itemsPerPage:f,sortBy:s,groupBy:l,search:y}),Te({VDataTableRows:{hideNoData:P(e,"hideNoData"),noDataText:P(e,"noDataText")}}),A(()=>c(De,{class:["v-data-table",{"v-data-table--show-select":e.showSelect}],fixedHeader:e.fixedHeader,fixedFooter:e.fixedFooter,height:e.height,hover:e.hover},{top:t.top,default:t.default??(()=>{var D,N,q,J;return c(O,null,[(D=t.colgroup)==null?void 0:D.call(t,{columns:r}),c("thead",null,[t.headers?t.headers():c(Ae,{sticky:e.fixedHeader,multiSort:e.multiSort},t)]),(N=t.thead)==null?void 0:N.call(t),c("tbody",null,[t.body?t.body():c(qe,{items:T.value,"onClick:row":e["onClick:row"]},t)]),(q=t.tbody)==null?void 0:q.call(t),(J=t.tfoot)==null?void 0:J.call(t)])}),bottom:t.bottom??(()=>c(je,null,{prepend:t["footer.prepend"]}))})),{}}});export{rt as V};
