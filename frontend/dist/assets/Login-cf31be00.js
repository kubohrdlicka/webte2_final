import{_ as v,h as g,r as i,o as b,c as V,d as u,a as s,w as n,t as a,i as k,b as p}from"./index-38e85aaa.js";import"https://unpkg.com/mathlive@0.90.10/dist/mathlive.min.js";import"https://unpkg.com/mathlive@0.90.10/dist/vue-mathlive.mjs";const w={name:"Login",data(){return{email:"",password:"",visible:!1,isFormValid:!1}},computed:{},methods:{required:function(e){return e?!0:this.$t("validation.required")},logIn(){if(this.isFormValid)try{g.post("https://site124.webte.fei.stuba.sk/final/api/account/login",{email:this.email,password:this.password}).then(e=>{sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("role",e.data.role),this.$store.dispatch("login",{token:e.data.token,role:e.data.role}),this.$router.push("/")})}catch(e){console.log(e)}}}},_={class:"d-flex justify-center align-center"},h={class:"form"};function y(e,t,C,I,o,r){const d=i("v-text-field"),m=i("v-btn"),f=i("v-form"),c=i("v-sheet");return b(),V("div",_,[u("div",h,[s(c,{width:"300",class:"align-self-center"},{default:n(()=>[u("h1",null,a(e.$t("login.title")),1),s(f,{"fast-fail":"",modelValue:o.isFormValid,"onUpdate:modelValue":t[4]||(t[4]=l=>o.isFormValid=l),onSubmit:t[5]||(t[5]=k(()=>{},["prevent"]))},{default:n(()=>[s(d,{modelValue:o.email,"onUpdate:modelValue":t[0]||(t[0]=l=>o.email=l),label:e.$t("login.email"),rules:[r.required]},null,8,["modelValue","label","rules"]),s(d,{"append-inner-icon":o.visible?"mdi-eye-off":"mdi-eye",type:o.visible?"text":"password",modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=l=>o.password=l),label:e.$t("login.password"),"onClick:appendInner":t[2]||(t[2]=l=>o.visible=!o.visible),rules:[r.required]},null,8,["append-inner-icon","type","modelValue","label","rules"]),s(m,{type:"submit",onClick:r.logIn,block:"",class:"mt-2"},{default:n(()=>[p(a(e.$t("login.title")),1)]),_:1},8,["onClick"]),s(m,{onClick:t[3]||(t[3]=l=>e.$router.push("/register")),block:"",class:"mt-2"},{default:n(()=>[p(a(e.$t("login.register")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])}const S=v(w,[["render",y]]);export{S as default};
