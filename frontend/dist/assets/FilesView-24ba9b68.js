import{a as V}from"./apiService-46e5fd51.js";import{_ as k,r as o,o as x,c as L,d,a,w as s,b as n,t as r}from"./index-38e85aaa.js";import{V as B}from"./VDataTable-f1f00ed6.js";import"https://unpkg.com/mathlive@0.90.10/dist/mathlive.min.js";import"https://unpkg.com/mathlive@0.90.10/dist/vue-mathlive.mjs";const D={name:"Fiels view",components:{VDataTable:B},data(){return{file:null,fileList:[],itemsPerPage:10,search:""}},methods:{async uploadBundle(){if(this.file)try{await this.file.forEach(e=>{let t="https://site124.webte.fei.stuba.sk/final/api/upload",c=new FormData;c.append("file",e),axios.post(t,c,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}}).then(_=>{console.log(_)})})}catch(e){console.log(e)}},getBundles(){V.get("api/taskbundles").then(e=>{this.fileList=e.data})},formatToLocalTime(e){const t=new Date(e);return`${t.toLocaleDateString("sk")}  (${t.toLocaleTimeString("sk")})`}},computed:{headers(){return[{title:"",key:"icon",width:"10%",align:"end",sortable:!1},{title:this.$t("table.title"),key:"name",width:"60%"},{title:this.$t("table.created"),key:"created_at",width:"30%"}]}},mounted(){this.getBundles()}},T={class:"pt-6"},P={class:"d-md-flex justify-space-between"},F={class:"pa-4 pb-0"},S={class:"d-flex justify-end pb-4"},j={class:"d-flex justify-end my-2"},$=n("mdi-file"),C={colspan:"3"},N={class:"d-flex align-center justify-center py-8"};function U(e,t,c,_,i,m){const p=o("v-card-title"),f=o("v-file-input"),v=o("v-btn"),u=o("v-card"),h=o("v-text-field"),b=o("v-icon"),g=o("v-card-subtitle"),y=o("v-data-table"),w=o("v-container");return x(),L("div",T,[d("div",P,[a(p,null,{default:s(()=>[n(r(e.$t("titles.filesOverview")),1)]),_:1})]),a(u,{class:"mx-4"},{default:s(()=>[d("div",F,[a(p,{class:"text-h6 pa-0 pb-4"},{default:s(()=>[n(r(e.$t("titles.newFile")),1)]),_:1}),a(f,{modelValue:i.file,"onUpdate:modelValue":t[0]||(t[0]=l=>i.file=l),label:e.$t("input.fileLabel"),accept:".zip",loading:!1,color:"primary",variant:"outlined"},null,8,["modelValue","label"]),d("div",S,[a(v,{onClick:t[1]||(t[1]=l=>m.uploadBundle()),color:"primary"},{default:s(()=>[n(r(e.$t("button.upload")),1)]),_:1})])])]),_:1}),a(u,{class:"mx-4 mt-6"},{default:s(()=>[a(p,null,{default:s(()=>[n(r(e.$t("titles.filesList")),1)]),_:1}),a(w,{class:"v-col-sm-12 v-col-md-10 v-col-lg-8 pb-8"},{default:s(()=>[d("div",j,[a(h,{variant:"outlined",class:"v-col-5 pa-0",density:"compact","prepend-icon":"mdi-magnify",modelValue:i.search,"onUpdate:modelValue":t[2]||(t[2]=l=>i.search=l)},null,8,["modelValue"])]),a(y,{"items-per-page":i.itemsPerPage,"onUpdate:items-per-page":t[3]||(t[3]=l=>i.itemsPerPage=l),headers:m.headers,items:i.fileList,"item-value":"name",class:"elevation-1 hk-table",search:i.search},{"item.icon":s(({item:l})=>[a(b,{color:"primary"},{default:s(()=>[$]),_:1})]),"item.created_at":s(({item:l})=>[n(r(m.formatToLocalTime(l.raw.created_at)),1)]),"no-data":s(()=>[d("td",C,[d("div",N,[a(g,null,{default:s(()=>[n(r(e.$t("table.noData")),1)]),_:1})])])]),_:1},8,["items-per-page","headers","items","search"])]),_:1})]),_:1})])}const q=k(D,[["render",U],["__scopeId","data-v-0f471a26"]]);export{q as default};
